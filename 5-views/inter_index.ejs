<script>
    if (<%= scope %>.fixFilters){
        if (new SESSION().current().intersectorial) {

        } else {
            if (<%= scope %>.fixFilters.filter(d => d.field === 'compania').length === 0){
                <%= scope %>.
                fixFilters.push(
                    {
                        field: "compania",
                        value: new SESSION().current().compania_id
                    },
                    {
                        field: "institucion",
                        operator: new SESSION().current().institucion_id ? "=" : "is",
                        value: new SESSION().current().institucion_id ? new SESSION().current().institucion_id : "$null"
                    },
                );
            }
        }
    }else{
        if (new SESSION().current().intersectorial) {

        } else {
            <%= scope %>.fixFilters = [
                {
                    field: "compania",
                    value: new SESSION().current().compania_id
                },
                {
                    field: "institucion",
                    operator: new SESSION().current().institucion_id ? "=" : "is",
                    value: new SESSION().current().institucion_id ? new SESSION().current().institucion_id : "$null"
                },
            ];
        }
    }
</script>
